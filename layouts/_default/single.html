{{ define "main" }}
<div ref="streamContainer" class="stream-container">
    <div class="post-list-container post-list-container-shadow">
        <div class="post">
            {{ $post_class := "post-head-wrapper-text-only"}}
            {{ $featured_image := .Params.featured_image }}
            {{ if $featured_image }}
                {{ $post_class = "post-head-wrapper"}}
            {{ end }}

            <div class="{{$post_class}}"
                 style="background-image: url('{{ $featured_image | relURL}}')">
                <div class="post-title">
                    {{ .Title }}
                    {{ if .Params.description }}
                    <div class="post-subtitle">
                        {{ .Params.description }}
                    </div>
                    {{ end }}
                    <div class="post-meta">
                        {{ if .Params.date}}
                        <time itemprop="datePublished">
                            {{ .PublishDate.Format "2006-01-02 15:04" }}
                        </time>
                        {{ end }}

                        {{ if .Params.categories }}
                            <i class="material-icons" style="">folder</i>
                                <a href="{{ "/categories/" | relLangURL }}{{ .Params.categories | urlize }}">{{ .Params.categories }}</a>
                                &nbsp;
                        {{ end }}
                        {{- partial "multilingual-links.html" . -}}
                    </div>
                </div>
            </div>

            <div class="post-body-wrapper">
                <div class="post-body">
                    <!-- {{ if ne .Language.Lang .Params.originalLanguage }}
                        {{ if eq .Language.Lang "zhs" }}
                            <blockquote>本文简化字版由<a href="https://github.com/BYVoid/OpenCC">OpenCC</a>转换</blockquote>
                        {{ end }}
                        {{ if eq .Language.Lang "zht" }}
                            <blockquote>本文正體字版由<a href="https://github.com/BYVoid/OpenCC">OpenCC</a>轉換</blockquote>
                        {{ end }}
                    {{ end }} -->
                    {{.Content}}
                    {{ if not .Lastmod.IsZero }}
                    <HR width="100%" id="EOF">
                    <p style="color:#777;">{{ i18n "Last modified on" }} {{ .Page.Lastmod.Format "2006-01-02" }}</p>
                    {{ end }}
                </div>
                {{ if not .Params.isSpecialPage }}
                    <div class="post-related">
                        {{- partial "related-posts.html" . -}}
                    </div>
                {{ end }}
            </div>

            <nav class="post-pagination">

                {{if .Next}}
                <a class="newer-posts" href="{{.Next.Permalink}}">
                    {{ i18n "Next" }}<br>{{.Next.Title}}
                </a>
                {{else}}
                <a class="newer-posts">
                    {{ i18n "Next" }}<br>No newer posts.
                </a>
                {{end}}
                
                {{if .Prev}}
                <a class="older-posts" href="{{.Prev.Permalink}}">
                    {{ i18n "Previous" }}<br>{{.Prev.Title}}
                </a>
                {{else}}
                <a class="older-posts">
                    {{ i18n "Previous" }}<br>No older posts.
                </a>
                {{end}}
            </nav>
            <div class="post-comment-wrapper">
                {{ if eq .Params.enableComments false }}
                <p style="opacity: 0.6" align="center">
                    <small>Comments Disabled.</small>
                </p>
                {{ else }}
                {{- partial "comment.html" . -}}
                {{ end }}
            </div>
            <div class="post-footer-tags">
                {{ if gt .Params.tags 0 }}
                    <i class="material-icons">label</i>
                    {{ range .Params.tags }}
                        <a href="{{ "/tags/" | relLangURL }}{{ . | urlize }}">{{ . }}</a>
                        &nbsp;
                    {{ end }}
                {{ end }}
            </div>
        </div>
    </div>
</div>
{{ end }}